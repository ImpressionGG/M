function estimation%% ESTIMATION   Estimation of distance based on empirical measurements%              and graphical display%%                 estimation;   
%   d = [0.5 1 2 3 5 7];   col = {'r','b','g','m','c','k'};   k = 2;   db = dbdata(d(k));   LD = 20*log10(d(k));   L0 = mean(db) - LD;      clf;      subplot(221);      for (i=1:length(d))      db = dbdata(d(i));      avg = mean(db);      rng = 1:length(db);      plot(rng, db, col{i});      hold on;      plot(rng, 0*rng+avg, [col{i},'-.']);   end   set(gca,'fontsize',20);   set(gca,'xlim',[0 25]);   h(1) = title('rssi measurements for various distances');   h(2) = xlabel('number of measurement');   h(3) = ylabel('RSSI signal strength [dB]');   set(h,'fontsize',10);      subplot(222);   for (i=1:length(d))      db = dbdata(d(i));      r = 10.^(-(db-L0)/20);      avg = 10.^(-(mean(db)-L0)/20);      ravg(i) = avg;            rng = 1:length(r);      plot(rng, r, col{i});      hold on;      plot(rng, 0*rng+avg, [col{i},'-.']);   end         set(gca,'fontsize',20);   set(gca,'xlim',[0 25]);   set(gca,'ylim',[0 20]);   h(1) = title('estimated distance');   h(2) = xlabel('number of measurement');   h(3) = ylabel('estimated distance [m]');   set(h,'fontsize',10);      subplot(212);   plot([0 d],[0 d],'r-.', d,ravg,'b');   hold on;   for (i=1:length(d))      plot(d(i),ravg(i),[col{i},'o']);   end   set(gca,'fontsize',20);   h(1) = title('estimated (averaged) distance over real distance [m]');   h(2) = xlabel('real distance [m]');   h(3) = ylabel('estimated distance [m]');   set(h,'fontsize',10);end
